import{o as u,e as _,w as a,a as s,d as e,$ as ee,f as l,a0 as se,b as g,a1 as ae,t as B,a2 as te,a3 as re,a4 as G,a5 as oe,x as O,m as T,a6 as E,a7 as le,a8 as de,a9 as M,W as P,_ as W,k as I,i as H,aa as K,y as X,ab as ne,J as A,ac as N,p as ie,c as $,V as k,L as c,K as q,M as U,v as D,N as ue,n as ce,X as Q,E as pe,G as fe,ad as me,ae as be,af as J,F as j,g as Y,ag as R,D as ve,ah as _e,O as ge,ai as ye}from"./index-TPK4gMxE.js";import{_ as he}from"./Checkbox-0ElYHOc3.js";import{_ as xe}from"./JoinTableHeader-0MU3WY4Z.js";import"./CheckIcon-Gu-xf442.js";const Ce={class:"space-y-1 leading-none"},we={__name:"CustomCheckbox",props:{value:{type:Boolean,required:!1},handleChange:{type:Function,required:!1},description:{type:String}},setup(t){return(i,d)=>(u(),_(e(re),{class:"flex flex-row items-start gap-x-3 space-y-0 rounded-md border p-4"},{default:a(()=>[s(e(ee),null,{default:a(()=>[s(e(he),{class:"",checked:t.value,"onUpdate:checked":t.handleChange},null,8,["checked","onUpdate:checked"])]),_:1}),l("div",Ce,[s(e(se),{class:""},{default:a(()=>[g("帳單地址與您送貨的地址一樣嗎？")]),_:1}),s(e(ae),null,{default:a(()=>[g(B(t.description),1)]),_:1}),s(e(te))])]),_:1}))}},Ae={__name:"RadioGroup",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:i}){const d=t,f=i,p=G(()=>{const{class:m,...b}=d;return b}),y=oe(p,f);return(m,b)=>(u(),_(e(le),T({modelValue:t.modelValue,defaultValue:t.defaultValue,disabled:t.disabled,name:t.name,required:t.required,orientation:t.orientation,dir:t.dir,loop:t.loop,asChild:t.asChild,as:t.as,"onUpdate:modelValue":f,class:e(E)("grid gap-2",d.class)},e(y)),{default:a(()=>[O(m.$slots,"default")]),_:3},16,["modelValue","defaultValue","disabled","name","required","orientation","dir","loop","asChild","as","class"]))}},L={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const i=t,d=G(()=>{const{class:f,...p}=i;return p});return(f,p)=>(u(),_(e(de),T(d.value,{class:e(E)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i.class)}),{default:a(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},Se={__name:"PayinfoRadioGroup",setup(t){return(i,d)=>(u(),_(e(Ae),{"default-value":"card",class:"grid grid-cols-3 gap-4"},{default:a(()=>[l("div",null,[s(e(M),{id:"card",value:"card",class:"peer sr-only"}),s(e(L),{for:"card",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"solar:card-2-broken"}),g(" Card ")]),_:1})]),l("div",null,[s(e(M),{id:"paypal",value:"paypal",class:"peer sr-only"}),s(e(L),{for:"paypal",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"simple-line-icons:paypal"}),g(" Paypal ")]),_:1})]),l("div",null,[s(e(M),{id:"apple",value:"apple",class:"peer sr-only"}),s(e(L),{for:"apple",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"fa-brands:cc-apple-pay"}),g(" Apple ")]),_:1})])]),_:1}))}},Z=t=>(pe("data-v-5ed19016"),t=t(),fe(),t),$e={class:"mt-5 join-page__contnet--from grid-cols-4"},ke=Z(()=>l("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"county"},null,-1)),qe=Z(()=>l("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"district"},null,-1)),Ve=Z(()=>l("div",{class:"col-span-full"},[l("p",null,"* 請先儲存在進行下一步")],-1)),Fe={__name:"PayInfoForm",props:{getCustomAddress:{},getCustomAddressModifiers:{},closeAddress:{},closeAddressModifiers:{},isAddresSave:{},isAddresSaveModifiers:{}},emits:["update:getCustomAddress","update:closeAddress","update:isAddresSave"],setup(t){const i=I(""),{deliveryAddress:d}=H(K());X("paymentInfo");const{initializeZipcodeWithPage:f,handleSubmit:p,defineHandleFn:y}=ne({user_Address:d.value.user_Address.val,user_AddressLine:d.value.user_AddressLine.val,user_City:d.value.user_City.val,user_State:d.value.user_State.val,user_ZipCode:d.value.user_ZipCode.val}),{handleChange:m}=A("user_City"),{handleChange:b}=A("user_State"),{value:h,handleChange:V}=A("user_ZipCode");y(m,b,V);const x=N(t,"getCustomAddress"),v=N(t,"closeAddress"),S=N(t,"isAddresSave"),F=p(C=>x.value=C);return ie(()=>{f(i).set({county:d.value.user_City.val,district:d.value.user_State.val,zipcode:d.value.user_ZipCode.val})}),(C,n)=>(u(),$("form",{onSubmit:n[3]||(n[3]=Q((...r)=>e(F)&&e(F)(...r),["prevent"]))},[l("div",{class:"twzipcode",ref_key:"twzipcodes",ref:i},[l("div",$e,[s(e(c),{name:"user_Address"},{default:a(({componentField:r})=>[s(k,{class:"text-left col-span-4 sm:col-span-2","user-label":"街道地址 *",componentField:r},null,8,["componentField"])]),_:1}),s(e(c),{name:"user_AddressLine"},{default:a(({componentField:r})=>[s(k,{class:"text-left col-span-4 sm:col-span-2","user-label":" 巷弄 *",componentField:r},null,8,["componentField"])]),_:1}),s(e(c),{name:"user_City"},{default:a(()=>[s(q,{class:"text-left col-span-4 sm:col-span-2",userLabel:"縣市*"},{default:a(()=>[ke]),_:1})]),_:1}),s(e(c),{name:"user_State"},{default:a(()=>[s(q,{class:"text-left col-span-4 sm:col-span-1","user-label":"地區*"},{default:a(()=>[qe]),_:1})]),_:1}),s(e(c),{name:"user_ZipCode"},{default:a(()=>[s(q,{class:"text-left col-span-4 sm:col-span-1","user-label":"郵遞區號*"},{default:a(()=>[U(l("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>D(h)?h.value=r:null),class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"zipcode"},null,512),[[ue,e(h),void 0,{number:!0}]])]),_:1})]),_:1}),l("button",{onClick:n[1]||(n[1]=r=>(v.value=!0,S.value=!1)),class:"col-start-2 hover:bg-color-grey-light rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300",type:"button"},"取消"),l("button",{onClick:n[2]||(n[2]=r=>S.value=!0),class:ce(["col-star-4 rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300 hover:border-color-eva-dark-green",{"border-color-eva-dark-green":S.value}]),type:"submit"},"儲存 ",2),Ve])],512)],32))}},Ie=W(Fe,[["__scopeId","data-v-5ed19016"]]),Me={class:"text-left"},Pe={class:"grid grid-cols-3 gap-4"},Ne=["value"],Le={__name:"JoinPaymentinfoForm",setup(t){const{router:i,store:d}=X("paymentInfo"),{handleSubmit:f,loading:p}=me({creditMoon:"January",creditYear:"2025",sameAddress:!0}),{value:y}=A("creditMoon"),{value:m}=A("creditYear"),{value:b}=A("sameAddress"),h=I(""),V=I(b),x=I(!1),{deliveryAddress:v}=H(K()),S=()=>Object.values(v.value).map(n=>n.val).join(","),F=["January","February","March","April","May","June","July","August","September","October","November","December"],C=f(async n=>{try{p.value=!0;const{id:r}=await be(),o={client_id:r,card_name:n.userName,card_cardNumber:n.creditNumber,card_date:`${n.creditYear}/${n.creditMoon}`,card_password:n.creditLastNb};let w={clients_id:r,user_Address:v.value.user_Address.val,user_AddressLine:v.value.user_AddressLine.val,user_City:v.value.user_City.val,user_State:v.value.user_State.val,user_ZipCode:v.value.user_ZipCode.val};n.sameAddress||(w={clients_id:r,...h.value}),await Promise.all([J("PaymentInfo",o),J("BillingAddress",w)]).catch(z=>{throw z}),i.push({name:"welcome"})}finally{p.value=!1}});return(n,r)=>(u(),$("form",{onSubmit:r[6]||(r[6]=Q((...o)=>e(C)&&e(C)(...o),["prevent"]))},[s(ye,null,{"Card-Title":a(()=>[g("付款方式")]),"Card-Description":a(()=>[g("添加你想要付款的信用卡資訊")]),"Card-Content":a(()=>[s(Se),l("div",Me,[s(e(c),{name:"userName"},{default:a(({componentField:o})=>[s(k,{"user-label":"持有人姓名","component-field":o,"user-description":"以卡片上的名稱為主"},null,8,["component-field"])]),_:1}),s(e(c),{name:"creditNumber"},{default:a(({componentField:o})=>[s(k,{"user-label":"卡片號碼","component-field":o,"user-placeholder":"0000 0000 0000 0000 ","user-description":"限定數字號碼"},null,8,["component-field"])]),_:1})]),l("div",Pe,[s(e(c),{name:"creditMoon"},{default:a(()=>[s(q,{"user-label":"moon"},{default:a(()=>[U(l("select",{"onUpdate:modelValue":r[0]||(r[0]=o=>D(y)?y.value=o:null),class:"flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto duration-300"},[(u(),$(j,null,Y(F,(o,w)=>l("option",{key:w},B(o),1)),64))],512),[[R,e(y)]])]),_:1})]),_:1}),s(e(c),{name:"creditYear"},{default:a(()=>[s(q,{"user-label":"Year"},{default:a(()=>[U(l("select",{"onUpdate:modelValue":r[1]||(r[1]=o=>D(m)?m.value=o:null),class:"flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300"},[(u(),$(j,null,Y(10,o=>l("option",{key:o,value:`${new Date().getFullYear()+o}`},B(new Date().getFullYear()+o),9,Ne)),64))],512),[[R,e(m)]])]),_:1})]),_:1}),s(e(c),{name:"creditLastNb"},{default:a(({componentField:o})=>[s(k,{"component-field":o,"user-label":"末三碼"},null,8,["component-field"])]),_:1})]),s(e(c),{name:"sameAddress"},{default:a(({value:o,handleChange:w})=>[s(we,{description:S(),value:o,handleChange:w,class:"text-left flex mt-5",onClick:r[2]||(r[2]=z=>x.value=!1)},null,8,["description","value","handleChange"])]),_:1}),e(b)?ve("",!0):(u(),_(Ie,{key:0,getCustomAddress:h.value,"onUpdate:getCustomAddress":r[3]||(r[3]=o=>h.value=o),closeAddress:V.value,"onUpdate:closeAddress":r[4]||(r[4]=o=>V.value=o),isAddresSave:x.value,"onUpdate:isAddresSave":r[5]||(r[5]=o=>x.value=o)},null,8,["getCustomAddress","closeAddress","isAddresSave"]))]),"Card-Footer":a(()=>[e(p)?(u(),_(ge,{key:1,class:"h-[50px]"})):(u(),_(e(_e),{key:0,class:"w-full",disabled:!e(b)&&!x.value},{default:a(()=>[g(" 下一步 ")]),_:1},8,["disabled"]))]),_:1})],32))}},Be=W(Le,[["__scopeId","data-v-d0a3925e"]]),Ue={__name:"JoinPaymentInfoContent",setup(t){return(i,d)=>(u(),_(xe,null,{default:a(()=>[s(Be)]),_:1}))}},De={class:"join-page__section-specific"},Ye={__name:"JoinPaymentInfo",setup(t){return(i,d)=>(u(),$("section",De,[s(Ue)]))}};export{Ye as default};
