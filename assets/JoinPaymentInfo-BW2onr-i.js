import{o as u,e as g,w as a,a as s,d as e,$ as Q,f as n,a0 as ee,b as y,a1 as se,t as U,a2 as ae,a3 as te,a4 as j,a5 as re,x as O,m as T,a6 as E,a7 as le,a8 as oe,a9 as P,X as L,_ as W,k as S,i as de,aa as ne,y as H,ab as ie,J as $,ac as N,p as K,c as q,W as V,L as f,K as F,M as Z,v as D,N as ue,n as ce,P as X,E as pe,G as fe,ad as me,ae as J,F as Y,g as R,af as G,D as be,ag as _e,O as ve,ah as ge,ai as ye,aj as he}from"./index-DyLQbmbx.js";import{_ as xe}from"./Checkbox-BqZAb1Lc.js";import{_ as Ce}from"./JoinTableHeader-DZ1sLNsz.js";import"./CheckIcon-DOVBIUR1.js";const Ae={class:"space-y-1 leading-none"},we={__name:"CustomCheckbox",props:{value:{type:Boolean,required:!1},handleChange:{type:Function,required:!1},description:{type:String}},setup(r){return(i,o)=>(u(),g(e(te),{class:"flex flex-row items-start gap-x-3 space-y-0 rounded-md border p-4"},{default:a(()=>[s(e(Q),null,{default:a(()=>[s(e(xe),{class:"",checked:r.value,"onUpdate:checked":r.handleChange},null,8,["checked","onUpdate:checked"])]),_:1}),n("div",Ae,[s(e(ee),{class:""},{default:a(()=>[y("帳單地址與您送貨的地址一樣嗎？")]),_:1}),s(e(se),null,{default:a(()=>[y(U(r.description),1)]),_:1}),s(e(ae))])]),_:1}))}},Se={__name:"RadioGroup",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(r,{emit:i}){const o=r,c=i,m=j(()=>{const{class:_,...v}=o;return v}),h=re(m,c);return(_,v)=>(u(),g(e(le),T({modelValue:r.modelValue,defaultValue:r.defaultValue,disabled:r.disabled,name:r.name,required:r.required,orientation:r.orientation,dir:r.dir,loop:r.loop,asChild:r.asChild,as:r.as,"onUpdate:modelValue":c,class:e(E)("grid gap-2",o.class)},e(h)),{default:a(()=>[O(_.$slots,"default")]),_:3},16,["modelValue","defaultValue","disabled","name","required","orientation","dir","loop","asChild","as","class"]))}},B={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(r){const i=r,o=j(()=>{const{class:c,...m}=i;return m});return(c,m)=>(u(),g(e(oe),T(o.value,{class:e(E)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i.class)}),{default:a(()=>[O(c.$slots,"default")]),_:3},16,["class"]))}},$e={__name:"PayinfoRadioGroup",setup(r){return(i,o)=>(u(),g(e(Se),{"default-value":"card",class:"grid grid-cols-3 gap-4"},{default:a(()=>[n("div",null,[s(e(P),{id:"card",value:"card",class:"peer sr-only"}),s(e(B),{for:"card",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(L),{class:"mb-3 h-6 w-6",icon:"solar:card-2-broken"}),y(" Card ")]),_:1})]),n("div",null,[s(e(P),{id:"paypal",value:"paypal",class:"peer sr-only"}),s(e(B),{for:"paypal",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(L),{class:"mb-3 h-6 w-6",icon:"simple-line-icons:paypal"}),y(" Paypal ")]),_:1})]),n("div",null,[s(e(P),{id:"apple",value:"apple",class:"peer sr-only"}),s(e(B),{for:"apple",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(L),{class:"mb-3 h-6 w-6",icon:"fa-brands:cc-apple-pay"}),y(" Apple ")]),_:1})])]),_:1}))}},z=r=>(pe("data-v-5ed19016"),r=r(),fe(),r),ke={class:"mt-5 join-page__contnet--from grid-cols-4"},qe=z(()=>n("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"county"},null,-1)),Ve=z(()=>n("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"district"},null,-1)),Fe=z(()=>n("div",{class:"col-span-full"},[n("p",null,"* 請先儲存在進行下一步")],-1)),Ie={__name:"PayInfoForm",props:{getCustomAddress:{},getCustomAddressModifiers:{},closeAddress:{},closeAddressModifiers:{},isAddresSave:{},isAddresSaveModifiers:{}},emits:["update:getCustomAddress","update:closeAddress","update:isAddresSave"],setup(r){const i=S(""),{deliveryAddress:o}=de(ne());H("paymentInfo");const{initializeZipcodeWithPage:c,handleSubmit:m,defineHandleFn:h}=ie({user_Address:o.value.user_Address.val,user_AddressLine:o.value.user_AddressLine.val,user_City:o.value.user_City.val,user_State:o.value.user_State.val,user_ZipCode:o.value.user_ZipCode.val}),{handleChange:_}=$("user_City"),{handleChange:v}=$("user_State"),{value:x,handleChange:C}=$("user_ZipCode");h(_,v,C);const p=N(r,"getCustomAddress"),A=N(r,"closeAddress"),k=N(r,"isAddresSave"),I=m(w=>p.value=w);return K(()=>{c(i).set({county:o.value.user_City.val,district:o.value.user_State.val,zipcode:o.value.user_ZipCode.val})}),(w,b)=>(u(),q("form",{onSubmit:b[3]||(b[3]=X((...l)=>e(I)&&e(I)(...l),["prevent"]))},[n("div",{class:"twzipcode",ref_key:"twzipcodes",ref:i},[n("div",ke,[s(e(f),{name:"user_Address"},{default:a(({componentField:l})=>[s(V,{class:"text-left col-span-4 sm:col-span-2","user-label":"街道地址 *",componentField:l},null,8,["componentField"])]),_:1}),s(e(f),{name:"user_AddressLine"},{default:a(({componentField:l})=>[s(V,{class:"text-left col-span-4 sm:col-span-2","user-label":" 巷弄 *",componentField:l},null,8,["componentField"])]),_:1}),s(e(f),{name:"user_City"},{default:a(()=>[s(F,{class:"text-left col-span-4 sm:col-span-2",userLabel:"縣市*"},{default:a(()=>[qe]),_:1})]),_:1}),s(e(f),{name:"user_State"},{default:a(()=>[s(F,{class:"text-left col-span-4 sm:col-span-1","user-label":"地區*"},{default:a(()=>[Ve]),_:1})]),_:1}),s(e(f),{name:"user_ZipCode"},{default:a(()=>[s(F,{class:"text-left col-span-4 sm:col-span-1","user-label":"郵遞區號*"},{default:a(()=>[Z(n("input",{"onUpdate:modelValue":b[0]||(b[0]=l=>D(x)?x.value=l:null),class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"zipcode"},null,512),[[ue,e(x),void 0,{number:!0}]])]),_:1})]),_:1}),n("button",{onClick:b[1]||(b[1]=l=>(A.value=!0,k.value=!1)),class:"col-start-2 hover:bg-color-grey-light rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300",type:"button"},"取消"),n("button",{onClick:b[2]||(b[2]=l=>k.value=!0),class:ce(["col-star-4 rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300 hover:border-color-eva-dark-green",{"border-color-eva-dark-green":k.value}]),type:"submit"},"儲存 ",2),Fe])],512)],32))}},Me=W(Ie,[["__scopeId","data-v-5ed19016"]]),Pe={class:"text-left"},Le={class:"grid grid-cols-3 gap-4"},Ne=["value"],Be={__name:"JoinPaymentinfoForm",setup(r){const{router:i}=H("paymentInfo"),{handleSubmit:o,loading:c}=me({creditMoon:"January",creditYear:"2025",sameAddress:!0}),{value:m}=$("creditMoon"),{value:h}=$("creditYear"),{value:_}=$("sameAddress"),v=S(""),x=S(_),C=S(!1),p=S(null),A=S(""),k=j(()=>{if(!(p.value==null&&!p.value))return Object.values(p.value).map(l=>l).join(",")}),I=["January","February","March","April","May","June","July","August","September","October","November","December"],w=o(async l=>{try{c.value=!0;const d={client_id:A.value,card_name:l.userName,card_cardNumber:+l.creditNumber,card_date:`${l.creditYear}/${l.creditMoon}`,card_password:+l.creditLastNb};let t={clients_id:A.value,user_Address:p.value.user_Address,user_AddressLine:p.value.user_AddressLine,user_City:p.value.user_City,user_State:p.value.user_State,user_ZipCode:+p.value.user_ZipCode};l.sameAddress||(t={clients_id:A.value,...v.value}),await Promise.all([J("PaymentInfo",d),J("BillingAddress",t)]),i.push({name:"welcome"})}finally{c.value=!1}}),b=async function(){const{id:l}=await ye();let{data:[d],error:t}=await he.from("deliveryAddress").select("user_Address,user_AddressLine,user_City,user_State,user_ZipCode").eq("clients_id",l);if(t)throw t;if(d){p.value=d,A.value=l;return}};return K(()=>{b()}),(l,d)=>(u(),q("form",{onSubmit:d[6]||(d[6]=X((...t)=>e(w)&&e(w)(...t),["prevent"]))},[s(ge,null,{"Card-Title":a(()=>[y("付款方式")]),"Card-Description":a(()=>[y("添加你想要付款的信用卡資訊")]),"Card-Content":a(()=>[s($e),n("div",Pe,[s(e(f),{name:"userName"},{default:a(({componentField:t})=>[s(V,{"user-label":"持有人姓名","component-field":t,"user-description":"以卡片上的名稱為主"},null,8,["component-field"])]),_:1}),s(e(f),{name:"creditNumber"},{default:a(({componentField:t})=>[s(V,{"user-label":"卡片號碼","component-field":t,"user-placeholder":"0000 0000 0000 0000 ","user-description":"限定數字號碼"},null,8,["component-field"])]),_:1})]),n("div",Le,[s(e(f),{name:"creditMoon"},{default:a(()=>[s(F,{"user-label":"moon"},{default:a(()=>[Z(n("select",{"onUpdate:modelValue":d[0]||(d[0]=t=>D(m)?m.value=t:null),class:"flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto duration-300"},[(u(),q(Y,null,R(I,(t,M)=>n("option",{key:M},U(t),1)),64))],512),[[G,e(m)]])]),_:1})]),_:1}),s(e(f),{name:"creditYear"},{default:a(()=>[s(F,{"user-label":"Year"},{default:a(()=>[Z(n("select",{"onUpdate:modelValue":d[1]||(d[1]=t=>D(h)?h.value=t:null),class:"flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300"},[(u(),q(Y,null,R(10,t=>n("option",{key:t,value:`${new Date().getFullYear()+t}`},U(new Date().getFullYear()+t),9,Ne)),64))],512),[[G,e(h)]])]),_:1})]),_:1}),s(e(f),{name:"creditLastNb"},{default:a(({componentField:t})=>[s(V,{"component-field":t,"user-label":"末三碼"},null,8,["component-field"])]),_:1})]),s(e(f),{name:"sameAddress"},{default:a(({value:t,handleChange:M})=>[s(we,{description:k.value,value:t,handleChange:M,class:"text-left flex mt-5",onClick:d[2]||(d[2]=je=>C.value=!1)},null,8,["description","value","handleChange"])]),_:1}),e(_)?be("",!0):(u(),g(Me,{key:0,getCustomAddress:v.value,"onUpdate:getCustomAddress":d[3]||(d[3]=t=>v.value=t),closeAddress:x.value,"onUpdate:closeAddress":d[4]||(d[4]=t=>x.value=t),isAddresSave:C.value,"onUpdate:isAddresSave":d[5]||(d[5]=t=>C.value=t)},null,8,["getCustomAddress","closeAddress","isAddresSave"]))]),"Card-Footer":a(()=>[e(c)?(u(),g(ve,{key:1,class:"h-[50px]"})):(u(),g(e(_e),{key:0,class:"w-full",disabled:!e(_)&&!C.value},{default:a(()=>[y(" 下一步 ")]),_:1},8,["disabled"]))]),_:1})],32))}},Ue=W(Be,[["__scopeId","data-v-d2be8fea"]]),Ze={__name:"JoinPaymentInfoContent",setup(r){return(i,o)=>(u(),g(Ce,null,{default:a(()=>[s(Ue)]),_:1}))}},De={class:"join-page__section-specific"},Ge={__name:"JoinPaymentInfo",setup(r){return(i,o)=>(u(),q("section",De,[s(Ze)]))}};export{Ge as default};
