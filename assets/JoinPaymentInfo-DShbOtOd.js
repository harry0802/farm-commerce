import{e as g,o as u,w as r,a as s,f as d,d as e,Y as X,Z as ee,b as y,$ as se,t as U,a0 as te,a1 as ae,a2 as R,a3 as re,v as T,m as O,a4 as G,a5 as le,a6 as oe,a7 as I,U as P,_ as H,j as F,h as E,a8 as K,y as W,a9 as de,H as A,aa as L,l as ne,c as k,T as q,J as c,I as V,K as B,x as Z,L as ie,n as ue,V as Q,ab as ce,ac as fe,ad as j,ae as pe,M as me,D as be,F as z,g as J,af as Y,ag as ve}from"./index-CPv0CiK3.js";import{_ as ge}from"./Checkbox-BlhkmXb4.js";import{_ as ye}from"./JoinTableHeader-Cp-Pzvgn.js";import"./CheckIcon-tfyP3pef.js";const _e={class:"space-y-1 leading-none"},xe={__name:"CustomCheckbox",props:{value:{type:Boolean,required:!1},handleChange:{type:Function,required:!1},description:{type:String}},setup(o){return(n,l)=>(u(),g(e(ae),{class:"flex flex-row items-start gap-x-3 space-y-0 rounded-md border p-4"},{default:r(()=>[s(e(X),null,{default:r(()=>[s(e(ge),{class:"",checked:o.value,"onUpdate:checked":o.handleChange},null,8,["checked","onUpdate:checked"])]),_:1}),d("div",_e,[s(e(ee),{class:""},{default:r(()=>[...l[0]||(l[0]=[y("帳單地址與您送貨的地址一樣嗎？",-1)])]),_:1}),s(e(se),null,{default:r(()=>[y(U(o.description),1)]),_:1}),s(e(te))])]),_:1}))}},Ce={__name:"RadioGroup",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(o,{emit:n}){const l=o,p=n,f=R(()=>{const{class:m,...b}=l;return b}),_=re(f,p);return(m,b)=>(u(),g(e(le),O({modelValue:o.modelValue,defaultValue:o.defaultValue,disabled:o.disabled,name:o.name,required:o.required,orientation:o.orientation,dir:o.dir,loop:o.loop,asChild:o.asChild,as:o.as,"onUpdate:modelValue":p,class:e(G)("grid gap-2",l.class)},e(_)),{default:r(()=>[T(m.$slots,"default")]),_:3},16,["modelValue","defaultValue","disabled","name","required","orientation","dir","loop","asChild","as","class"]))}},N={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const n=o,l=R(()=>{const{class:p,...f}=n;return f});return(p,f)=>(u(),g(e(oe),O(l.value,{class:e(G)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n.class)}),{default:r(()=>[T(p.$slots,"default")]),_:3},16,["class"]))}},he={__name:"PayinfoRadioGroup",setup(o){return(n,l)=>(u(),g(e(Ce),{"default-value":"card",class:"grid grid-cols-3 gap-4"},{default:r(()=>[d("div",null,[s(e(I),{id:"card",value:"card",class:"peer sr-only"}),s(e(N),{for:"card",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:r(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"solar:card-2-broken"}),l[0]||(l[0]=y(" Card ",-1))]),_:1})]),d("div",null,[s(e(I),{id:"paypal",value:"paypal",class:"peer sr-only"}),s(e(N),{for:"paypal",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:r(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"simple-line-icons:paypal"}),l[1]||(l[1]=y(" Paypal ",-1))]),_:1})]),d("div",null,[s(e(I),{id:"apple",value:"apple",class:"peer sr-only"}),s(e(N),{for:"apple",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:r(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"fa-brands:cc-apple-pay"}),l[2]||(l[2]=y(" Apple ",-1))]),_:1})])]),_:1}))}},Ae={class:"mt-5 join-page__contnet--from grid-cols-4"},we={__name:"PayInfoForm",props:{getCustomAddress:{},getCustomAddressModifiers:{},closeAddress:{},closeAddressModifiers:{},isAddresSave:{},isAddresSaveModifiers:{}},emits:["update:getCustomAddress","update:closeAddress","update:isAddresSave"],setup(o){const n=F(""),{deliveryAddress:l}=E(K()),{store:p}=W("paymentInfo"),{initializeZipcodeWithPage:f,handleSubmit:_,defineHandleFn:m}=de({user_Address:l.value.user_Address.val,user_AddressLine:l.value.user_AddressLine.val,user_City:l.value.user_City.val,user_State:l.value.user_State.val,user_ZipCode:l.value.user_ZipCode.val}),{handleChange:b}=A("user_City"),{handleChange:w}=A("user_State"),{value:x,handleChange:C}=A("user_ZipCode");m(b,w,C);const v=L(o,"getCustomAddress"),M=L(o,"closeAddress"),S=L(o,"isAddresSave"),$=_(i=>v.value=i);return ne(()=>{f(n).set({county:l.value.user_City.val,district:l.value.user_State.val,zipcode:l.value.user_ZipCode.val})}),(i,t)=>(u(),k("form",{onSubmit:t[3]||(t[3]=Q((...a)=>e($)&&e($)(...a),["prevent"]))},[d("div",{class:"twzipcode",ref_key:"twzipcodes",ref:n},[d("div",Ae,[s(e(c),{name:"user_Address"},{default:r(({componentField:a})=>[s(q,{class:"text-left col-span-4 sm:col-span-2","user-label":"街道地址 *",componentField:a},null,8,["componentField"])]),_:1}),s(e(c),{name:"user_AddressLine"},{default:r(({componentField:a})=>[s(q,{class:"text-left col-span-4 sm:col-span-2","user-label":" 巷弄 *",componentField:a},null,8,["componentField"])]),_:1}),s(e(c),{name:"user_City"},{default:r(()=>[s(V,{class:"text-left col-span-4 sm:col-span-2",userLabel:"縣市*"},{default:r(()=>[...t[4]||(t[4]=[d("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"county"},null,-1)])]),_:1})]),_:1}),s(e(c),{name:"user_State"},{default:r(()=>[s(V,{class:"text-left col-span-4 sm:col-span-1","user-label":"地區*"},{default:r(()=>[...t[5]||(t[5]=[d("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"district"},null,-1)])]),_:1})]),_:1}),s(e(c),{name:"user_ZipCode"},{default:r(()=>[s(V,{class:"text-left col-span-4 sm:col-span-1","user-label":"郵遞區號*"},{default:r(()=>[B(d("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>Z(x)?x.value=a:null),class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"zipcode"},null,512),[[ie,e(x),void 0,{number:!0}]])]),_:1})]),_:1}),d("button",{onClick:t[1]||(t[1]=a=>(M.value=!0,S.value=!1)),class:"col-start-2 hover:bg-color-grey-light rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300",type:"button"},"取消"),d("button",{onClick:t[2]||(t[2]=a=>S.value=!0),class:ue(["col-star-4 rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300 hover:border-color-eva-dark-green",{"border-color-eva-dark-green":S.value}]),type:"submit"},"儲存 ",2),t[6]||(t[6]=d("div",{class:"col-span-full"},[d("p",null,"* 請先儲存在進行下一步")],-1))])],512)],32))}},Se=H(we,[["__scopeId","data-v-5ed19016"]]),$e={class:"text-left"},ke={class:"grid grid-cols-3 gap-4"},qe=["value"],Ve={__name:"JoinPaymentinfoForm",setup(o){const{router:n,store:l}=W("paymentInfo"),{handleSubmit:p,loading:f}=ce({creditMoon:"January",creditYear:"2025",sameAddress:!0}),{value:_}=A("creditMoon"),{value:m}=A("creditYear"),{value:b}=A("sameAddress"),w=F(""),x=F(b),C=F(!1),{deliveryAddress:v}=E(K()),M=()=>Object.values(v.value).map(i=>i.val).join(","),S=["January","February","March","April","May","June","July","August","September","October","November","December"],$=p(async i=>{try{f.value=!0;const{id:t}=await fe(),a={client_id:t,card_name:i.userName,card_cardNumber:i.creditNumber,card_date:`${i.creditYear}/${i.creditMoon}`,card_password:i.creditLastNb};let h={clients_id:t,user_Address:v.value.user_Address.val,user_AddressLine:v.value.user_AddressLine.val,user_City:v.value.user_City.val,user_State:v.value.user_State.val,user_ZipCode:v.value.user_ZipCode.val};i.sameAddress||(h={clients_id:t,...w.value}),await Promise.all([j("PaymentInfo",a),j("BillingAddress",h)]).catch(D=>{throw D}),n.push({name:"welcome"})}finally{f.value=!1}});return(i,t)=>(u(),k("form",{onSubmit:t[6]||(t[6]=Q((...a)=>e($)&&e($)(...a),["prevent"]))},[s(ve,null,{"Card-Title":r(()=>[...t[7]||(t[7]=[y("付款方式",-1)])]),"Card-Description":r(()=>[...t[8]||(t[8]=[y("添加你想要付款的信用卡資訊",-1)])]),"Card-Content":r(()=>[s(he),d("div",$e,[s(e(c),{name:"userName"},{default:r(({componentField:a})=>[s(q,{"user-label":"持有人姓名","component-field":a,"user-description":"以卡片上的名稱為主"},null,8,["component-field"])]),_:1}),s(e(c),{name:"creditNumber"},{default:r(({componentField:a})=>[s(q,{"user-label":"卡片號碼","component-field":a,"user-placeholder":"0000 0000 0000 0000 ","user-description":"限定數字號碼"},null,8,["component-field"])]),_:1})]),d("div",ke,[s(e(c),{name:"creditMoon"},{default:r(()=>[s(V,{"user-label":"moon"},{default:r(()=>[B(d("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>Z(_)?_.value=a:null),class:"flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto duration-300"},[(u(),k(z,null,J(S,(a,h)=>d("option",{key:h},U(a),1)),64))],512),[[Y,e(_)]])]),_:1})]),_:1}),s(e(c),{name:"creditYear"},{default:r(()=>[s(V,{"user-label":"Year"},{default:r(()=>[B(d("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>Z(m)?m.value=a:null),class:"flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300"},[(u(),k(z,null,J(10,a=>d("option",{key:a,value:`${new Date().getFullYear()+a}`},U(new Date().getFullYear()+a),9,qe)),64))],512),[[Y,e(m)]])]),_:1})]),_:1}),s(e(c),{name:"creditLastNb"},{default:r(({componentField:a})=>[s(q,{"component-field":a,"user-label":"末三碼"},null,8,["component-field"])]),_:1})]),s(e(c),{name:"sameAddress"},{default:r(({value:a,handleChange:h})=>[s(xe,{description:M(),value:a,handleChange:h,class:"text-left flex mt-5",onClick:t[2]||(t[2]=D=>C.value=!1)},null,8,["description","value","handleChange"])]),_:1}),e(b)?be("",!0):(u(),g(Se,{key:0,getCustomAddress:w.value,"onUpdate:getCustomAddress":t[3]||(t[3]=a=>w.value=a),closeAddress:x.value,"onUpdate:closeAddress":t[4]||(t[4]=a=>x.value=a),isAddresSave:C.value,"onUpdate:isAddresSave":t[5]||(t[5]=a=>C.value=a)},null,8,["getCustomAddress","closeAddress","isAddresSave"]))]),"Card-Footer":r(()=>[e(f)?(u(),g(me,{key:1,class:"h-[50px]"})):(u(),g(e(pe),{key:0,class:"w-full",disabled:!e(b)&&!C.value},{default:r(()=>[...t[9]||(t[9]=[y(" 下一步 ",-1)])]),_:1},8,["disabled"]))]),_:1})],32))}},Fe=H(Ve,[["__scopeId","data-v-d0a3925e"]]),Me={__name:"JoinPaymentInfoContent",setup(o){return(n,l)=>(u(),g(ye,null,{default:r(()=>[s(Fe)]),_:1}))}},Ie={class:"join-page__section-specific"},Be={__name:"JoinPaymentInfo",setup(o){return(n,l)=>(u(),k("section",Ie,[s(Me)]))}};export{Be as default};
