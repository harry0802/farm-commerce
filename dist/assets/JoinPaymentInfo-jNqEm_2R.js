import{o as u,e as _,w as a,a as s,d as e,$ as Q,f as o,a0 as ee,b as g,a1 as se,t as B,a2 as ae,a3 as te,a4 as R,a5 as re,x as G,m as O,a6 as T,a7 as le,a8 as oe,a9 as M,X as P,_ as E,k as I,i as W,aa as H,y as K,ab as de,J as w,ac as N,p as ne,c as $,W as k,L as c,K as q,M as U,v as D,N as ie,n as ue,P as X,E as ce,G as pe,ad as fe,ae as me,af as z,F as J,g as j,ag as Y,D as be,ah as ve,O as _e,ai as ge}from"./index-CWs_IyMP.js";import{_ as ye}from"./Checkbox-v8NFNr3f.js";import{_ as he}from"./JoinTableHeader-DoG9neVP.js";import"./CheckIcon-B2Rf33-_.js";const xe={class:"space-y-1 leading-none"},Ce={__name:"CustomCheckbox",props:{value:{type:Boolean,required:!1},handleChange:{type:Function,required:!1},description:{type:String}},setup(t){return(i,d)=>(u(),_(e(te),{class:"flex flex-row items-start gap-x-3 space-y-0 rounded-md border p-4"},{default:a(()=>[s(e(Q),null,{default:a(()=>[s(e(ye),{class:"",checked:t.value,"onUpdate:checked":t.handleChange},null,8,["checked","onUpdate:checked"])]),_:1}),o("div",xe,[s(e(ee),{class:""},{default:a(()=>[g("帳單地址與您送貨的地址一樣嗎？")]),_:1}),s(e(se),null,{default:a(()=>[g(B(t.description),1)]),_:1}),s(e(ae))])]),_:1}))}},Ae={__name:"RadioGroup",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:i}){const d=t,f=i,p=R(()=>{const{class:m,...b}=d;return b}),y=re(p,f);return(m,b)=>(u(),_(e(le),O({modelValue:t.modelValue,defaultValue:t.defaultValue,disabled:t.disabled,name:t.name,required:t.required,orientation:t.orientation,dir:t.dir,loop:t.loop,asChild:t.asChild,as:t.as,"onUpdate:modelValue":f,class:e(T)("grid gap-2",d.class)},e(y)),{default:a(()=>[G(m.$slots,"default")]),_:3},16,["modelValue","defaultValue","disabled","name","required","orientation","dir","loop","asChild","as","class"]))}},L={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const i=t,d=R(()=>{const{class:f,...p}=i;return p});return(f,p)=>(u(),_(e(oe),O(d.value,{class:e(T)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i.class)}),{default:a(()=>[G(f.$slots,"default")]),_:3},16,["class"]))}},we={__name:"PayinfoRadioGroup",setup(t){return(i,d)=>(u(),_(e(Ae),{"default-value":"card",class:"grid grid-cols-3 gap-4"},{default:a(()=>[o("div",null,[s(e(M),{id:"card",value:"card",class:"peer sr-only"}),s(e(L),{for:"card",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"solar:card-2-broken"}),g(" Card ")]),_:1})]),o("div",null,[s(e(M),{id:"paypal",value:"paypal",class:"peer sr-only"}),s(e(L),{for:"paypal",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"simple-line-icons:paypal"}),g(" Paypal ")]),_:1})]),o("div",null,[s(e(M),{id:"apple",value:"apple",class:"peer sr-only"}),s(e(L),{for:"apple",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:a(()=>[s(e(P),{class:"mb-3 h-6 w-6",icon:"fa-brands:cc-apple-pay"}),g(" Apple ")]),_:1})])]),_:1}))}},Z=t=>(ce("data-v-5ed19016"),t=t(),pe(),t),Se={class:"mt-5 join-page__contnet--from grid-cols-4"},$e=Z(()=>o("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"county"},null,-1)),ke=Z(()=>o("select",{class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"district"},null,-1)),qe=Z(()=>o("div",{class:"col-span-full"},[o("p",null,"* 請先儲存在進行下一步")],-1)),Ve={__name:"PayInfoForm",props:{getCustomAddress:{},getCustomAddressModifiers:{},closeAddress:{},closeAddressModifiers:{},isAddresSave:{},isAddresSaveModifiers:{}},emits:["update:getCustomAddress","update:closeAddress","update:isAddresSave"],setup(t){const i=I(""),{deliveryAddress:d}=W(H());K("paymentInfo");const{initializeZipcodeWithPage:f,handleSubmit:p,defineHandleFn:y}=de({user_Address:d.value.user_Address.val,user_AddressLine:d.value.user_AddressLine.val,user_City:d.value.user_City.val,user_State:d.value.user_State.val,user_ZipCode:d.value.user_ZipCode.val}),{handleChange:m}=w("user_City"),{handleChange:b}=w("user_State"),{value:h,handleChange:V}=w("user_ZipCode");y(m,b,V);const x=N(t,"getCustomAddress"),v=N(t,"closeAddress"),S=N(t,"isAddresSave"),F=p(C=>x.value=C);return ne(()=>{f(i).set({county:d.value.user_City.val,district:d.value.user_State.val,zipcode:d.value.user_ZipCode.val})}),(C,n)=>(u(),$("form",{onSubmit:n[3]||(n[3]=X((...r)=>e(F)&&e(F)(...r),["prevent"]))},[o("div",{class:"twzipcode",ref_key:"twzipcodes",ref:i},[o("div",Se,[s(e(c),{name:"user_Address"},{default:a(({componentField:r})=>[s(k,{class:"text-left col-span-4 sm:col-span-2","user-label":"街道地址 *",componentField:r},null,8,["componentField"])]),_:1}),s(e(c),{name:"user_AddressLine"},{default:a(({componentField:r})=>[s(k,{class:"text-left col-span-4 sm:col-span-2","user-label":" 巷弄 *",componentField:r},null,8,["componentField"])]),_:1}),s(e(c),{name:"user_City"},{default:a(()=>[s(q,{class:"text-left col-span-4 sm:col-span-2",userLabel:"縣市*"},{default:a(()=>[$e]),_:1})]),_:1}),s(e(c),{name:"user_State"},{default:a(()=>[s(q,{class:"text-left col-span-4 sm:col-span-1","user-label":"地區*"},{default:a(()=>[ke]),_:1})]),_:1}),s(e(c),{name:"user_ZipCode"},{default:a(()=>[s(q,{class:"text-left col-span-4 sm:col-span-1","user-label":"郵遞區號*"},{default:a(()=>[U(o("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>D(h)?h.value=r:null),class:"text-center flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300","data-role":"zipcode"},null,512),[[ie,e(h),void 0,{number:!0}]])]),_:1})]),_:1}),o("button",{onClick:n[1]||(n[1]=r=>(v.value=!0,S.value=!1)),class:"col-start-2 hover:bg-color-grey-light rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300",type:"button"},"取消"),o("button",{onClick:n[2]||(n[2]=r=>S.value=!0),class:ue(["col-star-4 rounded-md border border-input bg-transparent text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed py-4 px-3.5 transition-colors duration-300 hover:border-color-eva-dark-green",{"border-color-eva-dark-green":S.value}]),type:"submit"},"儲存 ",2),qe])],512)],32))}},Fe=E(Ve,[["__scopeId","data-v-5ed19016"]]),Ie={class:"text-left"},Me={class:"grid grid-cols-3 gap-4"},Pe=["value"],Ne={__name:"JoinPaymentinfoForm",setup(t){const{router:i,store:d}=K("paymentInfo"),{handleSubmit:f,loading:p}=fe({creditMoon:"January",creditYear:"2025",sameAddress:!0}),{value:y}=w("creditMoon"),{value:m}=w("creditYear"),{value:b}=w("sameAddress"),h=I(""),V=I(b),x=I(!1),{deliveryAddress:v}=W(H()),S=()=>Object.values(v.value).map(n=>n.val).join(","),F=["January","February","March","April","May","June","July","August","September","October","November","December"],C=f(async n=>{try{p.value=!0;const{id:r}=await me(),l={client_id:r,card_name:n.userName,card_cardNumber:n.creditNumber,card_date:`${n.creditYear}/${n.creditMoon}`,card_password:n.creditLastNb};let A={clients_id:r,user_Address:v.value.user_Address.val,user_AddressLine:v.value.user_AddressLine.val,user_City:v.value.user_City.val,user_State:v.value.user_State.val,user_ZipCode:v.value.user_ZipCode.val};n.sameAddress||(A={clients_id:r,...h.value}),await Promise.all([z("PaymentInfo",l),z("BillingAddress",A)]),i.push({name:"welcome"})}finally{p.value=!1}});return(n,r)=>(u(),$("form",{onSubmit:r[6]||(r[6]=X((...l)=>e(C)&&e(C)(...l),["prevent"]))},[s(ge,null,{"Card-Title":a(()=>[g("付款方式")]),"Card-Description":a(()=>[g("添加你想要付款的信用卡資訊")]),"Card-Content":a(()=>[s(we),o("div",Ie,[s(e(c),{name:"userName"},{default:a(({componentField:l})=>[s(k,{"user-label":"持有人姓名","component-field":l,"user-description":"以卡片上的名稱為主"},null,8,["component-field"])]),_:1}),s(e(c),{name:"creditNumber"},{default:a(({componentField:l})=>[s(k,{"user-label":"卡片號碼","component-field":l,"user-placeholder":"0000 0000 0000 0000 ","user-description":"限定數字號碼"},null,8,["component-field"])]),_:1})]),o("div",Me,[s(e(c),{name:"creditMoon"},{default:a(()=>[s(q,{"user-label":"moon"},{default:a(()=>[U(o("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>D(y)?y.value=l:null),class:"flex w-full rounded-md border border-input bg-transparent text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto duration-300"},[(u(),$(J,null,j(F,(l,A)=>o("option",{key:A},B(l),1)),64))],512),[[Y,e(y)]])]),_:1})]),_:1}),s(e(c),{name:"creditYear"},{default:a(()=>[s(q,{"user-label":"Year"},{default:a(()=>[U(o("select",{"onUpdate:modelValue":r[1]||(r[1]=l=>D(m)?m.value=l:null),class:"flex w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 py-4 px-3.5 h-auto transition-shadow duration-300"},[(u(),$(J,null,j(10,l=>o("option",{key:l,value:`${new Date().getFullYear()+l}`},B(new Date().getFullYear()+l),9,Pe)),64))],512),[[Y,e(m)]])]),_:1})]),_:1}),s(e(c),{name:"creditLastNb"},{default:a(({componentField:l})=>[s(k,{"component-field":l,"user-label":"末三碼"},null,8,["component-field"])]),_:1})]),s(e(c),{name:"sameAddress"},{default:a(({value:l,handleChange:A})=>[s(Ce,{description:S(),value:l,handleChange:A,class:"text-left flex mt-5",onClick:r[2]||(r[2]=De=>x.value=!1)},null,8,["description","value","handleChange"])]),_:1}),e(b)?be("",!0):(u(),_(Fe,{key:0,getCustomAddress:h.value,"onUpdate:getCustomAddress":r[3]||(r[3]=l=>h.value=l),closeAddress:V.value,"onUpdate:closeAddress":r[4]||(r[4]=l=>V.value=l),isAddresSave:x.value,"onUpdate:isAddresSave":r[5]||(r[5]=l=>x.value=l)},null,8,["getCustomAddress","closeAddress","isAddresSave"]))]),"Card-Footer":a(()=>[e(p)?(u(),_(_e,{key:1,class:"h-[50px]"})):(u(),_(e(ve),{key:0,class:"w-full",disabled:!e(b)&&!x.value},{default:a(()=>[g(" 下一步 ")]),_:1},8,["disabled"]))]),_:1})],32))}},Le=E(Ne,[["__scopeId","data-v-2a3346f7"]]),Be={__name:"JoinPaymentInfoContent",setup(t){return(i,d)=>(u(),_(he,null,{default:a(()=>[s(Le)]),_:1}))}},Ue={class:"join-page__section-specific"},Ye={__name:"JoinPaymentInfo",setup(t){return(i,d)=>(u(),$("section",Ue,[s(Be)]))}};export{Ye as default};
